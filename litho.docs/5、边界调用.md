# System Boundary Interface Documentation

This document describes the system's external invocation interfaces, including CLI commands, API endpoints, configuration parameters, and other boundary mechanisms.

## Command Line Interface (CLI)

### cowork modify

**Description**: 修改会话需求或设计并触发重新执行

**Source File**: `crates/cowork-cli/src/main.rs:45-57`

**Arguments**:

- `session_id` (String): required - 会话ID，用于标识特定的工作会话
- `change` (String): optional - 修改描述，如果不提供则会交互式提示

**Options**:

- `config`(String): optional - 模型配置文件路径 (default: `config.toml`)

**Usage Examples**:

```bash
cowork modify session123
```

```bash
cowork modify session123 --change "增加用户登录功能"
```

### cowork inspect

**Description**: 检查会话的artifacts和状态信息

**Source File**: `crates/cowork-cli/src/main.rs:40-45`

**Arguments**:

- `session_id` (String): required - 要检查的会话ID

**Options**:

- `config`(String): optional - 模型配置文件路径 (default: `config.toml`)

**Usage Examples**:

```bash
cowork inspect session123
```

### cowork export

**Description**: 导出会话的最终交付物

**Source File**: `crates/cowork-cli/src/main.rs:43-48`

**Arguments**:

- `session_id` (String): required - 要导出的会话ID

**Options**:

- `config`(String): optional - 模型配置文件路径 (default: `config.toml`)

**Usage Examples**:

```bash
cowork export session123
```

### cowork resume

**Description**: 恢复已存在的会话

**Source File**: `crates/cowork-cli/src/main.rs:38-42`

**Arguments**:

- `session_id` (String): required - 要恢复的会话ID

**Options**:

- `config`(String): optional - 模型配置文件路径 (default: `config.toml`)

**Usage Examples**:

```bash
cowork resume session123
```

## API Interfaces

### POST LLM_API_BASE_URL

**Description**: 大语言模型API端点，用于智能体决策和代码生成

**Source File**: `crates/cowork-core/src/config.rs:10`

**Request Format**: JSON

**Response Format**: JSON

**Authentication**: API Key

### POST EMBEDDING_API_BASE_URL

**Description**: 嵌入模型API端点，用于文本向量化处理

**Source File**: `crates/cowork-core/src/config.rs:15`

**Request Format**: JSON

**Response Format**: JSON

**Authentication**: API Key

## Integration Suggestions

### Configuration

AI服务配置集成最佳实践

**Example Code**:

```
// 从环境变量加载配置
let config = ModelConfig::from_env().unwrap_or_else(|_| {
    // 回退到文件配置
    ModelConfig::from_file("config.toml").unwrap()
});
```

**Best Practices**:

- 使用环境变量管理敏感API密钥
- 采用配置文件版本控制
- 实现配置验证机制
- 设置合理的超时和重试策略

### CLI Security

命令行交互安全集成建议

**Example Code**:

```
// 安全的用户输入处理
let hitl = HitlController::new();
let input = hitl.input("请输入修改描述")?;
if input.trim().is_empty() {
    return Err(anyhow::anyhow!("输入不能为空"));
}
```

**Best Practices**:

- 实现输入验证和清理
- 限制用户输入长度
- 添加操作确认机制
- 实现操作审计日志

### Session Management

会话管理集成建议

**Example Code**:

```
// 会话创建和管理
let session_id = orchestrator.create_session()?;
let meta = orchestrator.load_session_meta(&session_id)?;
println!("会话状态: {:?}", meta.current_stage);
```

**Best Practices**:

- 实现会话状态持久化
- 添加会话锁定机制
- 定期清理过期会话
- 实现会话备份和恢复


---

**Analysis Confidence**: 9.2/10
