# System Boundary Interface Documentation

This document describes the system's external invocation interfaces, including CLI commands, API endpoints, configuration parameters, and other boundary mechanisms.

## Command Line Interface (CLI)

### cowork

**Description**: AI驱动的软件开发编排系统命令行界面

**Source File**: `crates/cowork-cli/src/main.rs`

**Arguments**:

- `config` (string): optional - 配置文件路径 (default: `config.toml`)
- `verbose` (boolean): optional - 启用详细日志输出 (default: `false`)
- `stream` (boolean): optional - 启用LLM流式输出 (default: `false`)

**Options**:

- `new`(string): optional - 创建新项目
- `resume`(string): optional - 恢复现有项目
- `revert`(string): optional - 从特定阶段回滚项目
- `modify`(string): optional - 修改现有项目
- `status`(boolean): optional - 显示项目状态
- `init`(null): optional - 初始化配置文件

**Usage Examples**:

```bash
cowork new "创建一个任务管理应用"
```

```bash
cowork resume --base session-1234567890
```

```bash
cowork revert --from coding
```

```bash
cowork modify "添加用户认证功能"
```

```bash
cowork status --sessions
```

```bash
cowork init
```

## API Interfaces

### POST http://localhost:8000/v1

**Description**: OpenAI兼容的API端点用于LLM服务

**Source File**: `crates/cowork-core/src/llm/config.rs`

**Request Format**: JSON

**Response Format**: JSON

**Authentication**: api_key

## Integration Suggestions

### LLM服务集成

集成OpenAI兼容的大语言模型服务用于AI代理决策和代码生成

**Example Code**:

```
let config = ModelConfig::from_file("config.toml")?;
let llm_client = create_llm_client(&config.llm)?;
```

**Best Practices**:

- 使用速率限制确保API调用不超过30次/分钟
- 配置合理的超时和重试机制
- 使用环境变量存储敏感API密钥
- 实现故障转移和降级策略

### 版本控制系统集成

与Git等版本控制系统集成用于代码版本管理和变更跟踪

**Example Code**:

```
fn collect_project_file_fingerprints() -> Result<HashMap<String, (u64, u64)>>
```

**Best Practices**:

- 自动检测文件变更并生成差异报告
- 支持项目状态的可视化展示
- 实现增量修改和补丁管理
- 提供项目回滚和恢复功能

### 人类参与循环(HITL)

集成人类专家参与关键决策环节确保质量

**Example Code**:

```
use crate::agents::hitl::*;
```

**Best Practices**:

- 在关键决策点引入人工审核
- 提供友好的编辑界面和反馈机制
- 支持异步协作和审批流程
- 记录所有人类参与决策的历史


---

**Analysis Confidence**: 0.9/10
